<!-- make.html -->
<div id="loading">⏳ Loading TigerTag data...</div>
<div id="mainContentForm" style="display: none;">
  <!-- <h1>Make TigerTag</h1> -->
  <form id="tagForm" autocomplete="off">
    <fieldset class="basic-info">
      <legend>Create TigerTag</legend>
      <div class="color-selection">
       <!-- <label for="color" class="sr-only">Color</label> -->
        <div class="canvas-wrapper">
          <canvas id="colorWheel" width="400" height="400"></canvas>
          <canvas id="slCircle" width="200" height="200"></canvas>
          <div id="cursor" class="cursor"></div>
          <div id="slCursor" class="cursor sl-cursor"></div>
          <div id="label" class="label">H: 0°, S: 100%, L: 50%</div>
        </div>
        <!-- Préréglages rapides : Noir, Gris, Blanc -->
        <div class="preset-squares">
          <div class="preset-square" data-color="#000000" style="background:#000000;"></div>
          <div class="preset-square" data-color="#808080" style="background:#808080;"></div>
          <div class="preset-square" data-color="#FFFFFF" style="background:#FFFFFF;"></div>
        </div>
        <div id="preview">
          <div id="colorBox"></div>
          <div id="values">
            <div id="hslValue">HSL: 0°, 100%, 50%</div>
            <div id="rgbValue">RGB: 255, 0, 0</div>
            <div id="hexValue">HEX: #ff0000</div>
          </div>
        </div>
      </div>
      <div class="field-group"><label for="brandId">Brand:</label><select id="brandId"></select></div>
      <div class="field-group"><label for="materialId">Material:</label><select id="materialId"></select></div>
      
    </fieldset>

    <details class="advanced-options">
      <summary>Advanced options</summary>
      <fieldset>
        <legend>General information</legend>
        <!-- <div class="field-group"><label for="versionId">Version:</label><select id="versionId"></select></div> -->
        <div class="field-group">
          <label for="transparent" class="toggle-label">
            <span class="toggle-text">Transparent:</span>
            <input type="checkbox" id="transparent" class="toggle" />
          </label>
        </div>
        <div class="field-group"><label for="aspect1Id">Aspect:</label><select id="aspect1Id"></select></div>
        <div class="field-group"><label for="aspect2Id">Aspect Secondary:</label><select id="aspect2Id"></select></div>
        <div class="field-group"><label for="typeId">Type:</label><select id="typeId"></select></div>
        <div class="field-group"><label for="diameterId">Diameter:</label><select id="diameterId"></select></div>
        <div class="field-group"><label for="unitId">Unit:</label><select id="unitId"><option value="21">g</option></select></div>
        <div class="field-group"><label for="weight">Weight (g):</label><input type="number" id="weight" value="1000" min="0"max="100000"/></div>
      </fieldset>

      <fieldset>
        <legend>Temperatures</legend>
        <div class="field-group"><label for="tempMin">Temp Min (°C):</label><input type="number" id="tempMin" min="90"max="450"/></div>
        <div class="field-group"><label for="tempMax">Temp Max (°C):</label><input type="number" id="tempMax" min="90"max="450"/></div>
        <div class="field-group"><label for="dryTemp">Dry Temp (°C):</label><input type="number" id="dryTemp" min="30"max="255"/></div>
        <div class="field-group"><label for="dryTime">Dry Time (h):</label><input type="number" id="dryTime" min="1" max="255"/></div>
      </fieldset>
    </details>

    <div class="button-group">
      <button type="submit">🚀 Write Tag</button>
      <button type="button" id="resetTagBtn">🔄 Reset Tag</button>
    </div>
    
  </form>

</div>
<div class="preset-buttons">
  <h3>TigerTag Pro Online Tester:</h3>
  <div class="preset-button-group">
    <button type="button" id="polymakerBtn" class="preset-btn" style="background-color: #c70014; color: black;">Polymaker</button>
    <button type="button" id="elegooBtn" class="preset-btn" style="background-color: #c70014; color: black;">Elegoo TPU</button>
    <button type="button" id="r3dBtn" class="preset-btn" style="background-color: #c70014; color: black;">R3D PLA-CF</button>
    <button type="button" id="sunluBtn" class="preset-btn" style="background-color: #c70014; color: black;">Sunlu PETG</button>
    <button type="button" id="esunBtn" class="preset-btn" style="background-color: #c70014; color: black;">eSun PLA+</button>
    <button type="button" id="rosa3dBtn" class="preset-btn" style="background-color: #c70014; color: black;">Rosa3D Tri</button>
  </div>
</div>
</form>
<div id="status" style="margin-top: 10px;"></div>
</div>

<div id="status" style="margin-top: 10px;"></div>

<style>
.preset-buttons {
margin: 20px 0;
padding: 15px;
border: 1px solid #ddd;
border-radius: 8px;
background-color: #f9f9f9;
}

.preset-buttons h3 {
margin-top: 0;
color: #333;
}

.preset-button-group {
display: flex;
flex-wrap: wrap;
gap: 10px;
}

.preset-btn {
padding: 10px 15px;
border: none;
border-radius: 5px;
font-weight: bold;
cursor: pointer;
transition: all 0.2s;
min-width: 120px;
}

.preset-btn:hover {
transform: translateY(-2px);
box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}


.preset-btn:active {
transform: translateY(0);
}

/* Styles pour le color picker */
.canvas-wrapper { position: relative; width: 400px; height: 400px; margin: 0 auto; position: relative;}
#colorWheel { position: absolute; top: 0; left: 0; border-radius: 50%; }
#slCircle { position: absolute; width: 200px; height: 200px; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 50%; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); cursor: pointer; }
#slCircle:active { cursor: grabbing; }
.cursor { position: absolute; width: 50px; height: 50px; background: transparent; border: 7px solid rgb(255, 255, 255); border-radius: 50%; transform: translate(-50%, -50%); pointer-events: none; }
.sl-cursor { position: absolute; width: 16px; height: 16px; background: transparent; border-width: 7px solid rgb(255, 255, 255); transform: translate(-50%, -50%); z-index: 3; }
.label { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.7); padding: 6px 12px; border-radius: 8px; font-size: 14px; }
#preview { background: #222; border-radius: 10px; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.4); display: flex; flex-direction: row ; align-items: center; gap: 10px; }
#colorBox { width: 80px; height: 80px; border-radius: 8px; border: 2px solid #fff; box-shadow: 0 0 6px rgba(255,255,255,0.2); }
#values { font-size: 14px; text-align: center; font-family: monospace; min-width: 160px; line-height: 1.4; }
#values > div { min-height: 1.4em; }

.preset-squares {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.preset-square {
  width: 24px;
  height: 24px;
  border: 2px solid #fff;
  cursor: pointer;
}
</style>